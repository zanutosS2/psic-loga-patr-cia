/*! For license information please see img-2a6e66b365daa8de34e7.js.LICENSE.txt */
(()=>{var t={7534:(t,e,n)=>{"use strict";var r,i,o;n.d(e,{SD:()=>r,nl:()=>i,h6:()=>o}),function(t){t.solid="solid",t.geojson="geojson",t.image="img",t.pdf="pdf",t.psd="psd",t.mermaid="mermaid"}(r||(r={})),function(t){t.constructor="constructor",t.hello="hello",t.resize="resize",t.loading="loading",t.loaded="loaded",t.error="error",t.fatal="error:fatal",t.ready="ready",t.markdown="code_rendering_service:markdown:get_data",t.getContainerSize="code_rendering_service:container:get_size"}(i||(i={})),function(t){t.markdown="code_rendering_service:data:ready",t.containerSize="code_rendering_service:container:size"}(o||(o={}))},2086:(t,e,n)=>{"use strict";var r=n(3433),i=n(5671),o=n(3144),a=n(4942);function c(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return{args:e,time:Date.now()}}const l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loggerFn:window.console.log,quiet:!1};(0,i.Z)(this,t),(0,a.Z)(this,"buffer",[]),(0,a.Z)(this,"bufferSize",50),(0,a.Z)(this,"quiet",!1),this._loggerFn=e.loggerFn,this.quiet=e.quiet}return(0,o.Z)(t,[{key:"debug",value:function(){this.storeMessage.apply(this,arguments),this.quiet||this._loggerFn.apply(this,arguments)}},{key:"storeMessage",value:function(){var t=this.buffer;t.push(s.apply(void 0,arguments));var e=t.slice(-this.bufferSize);this.buffer=e}},{key:"replayMessages",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=this.buffer.slice(-e),i=c(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;this._loggerFn.apply(this,["".concat(new Date(o.time),": ")].concat((0,r.Z)(o.args)))}}catch(t){i.e(t)}finally{i.f()}return this.buffer.length}}]),t}();window.GitHub=window.GitHub||{},window.Render=window.Render||{};var d=new l({loggerFn:function(){var t;if("log"in window.console)return(t=window.console).log.apply(t,arguments)},quiet:!0});window.debug=d.debug.bind(d),window.debug.buffer=function(){return d.buffer};var h=n(9439),f=n(4939),p="<unknown>";var g=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,v=/\((\S*)(?::(\d+))(?::(\d+))\)/,m=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,y=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,w=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,b=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i,x=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){(0,a.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var O={originalHistoryState:JSON.stringify(window.history.state)},Z=["commit","repository_id","repository_type","browser","version"],j={name:"NullErrorEvent",stack:"",failbotContext:{}},E=(new Date).getTime(),A=!1;var L,P=(L=0,function(t){var e=t.lineno,n=t.error,r=t.filename;return!(!(n?n.stack:void 0)||!e||A||function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").includes("chrome-extension://")}(r)||L>=10||(L++,0))}),R=function(){return function(){for(var t=[],e=0,n=Array.from(document.querySelectorAll("script"));e<n.length;e++){var r=n[e];/^(?:chrome-extension|file):/.test(r.src)&&t.push(r.src)}return t}()};function D(t,e){var n=T();return n.push({type:t,url:window.location.href,state:window.history.state,info:e}),function(t){try{return sessionStorage.setItem(N,JSON.stringify(t))}catch(t){return}}(n)}var N="navigations";function T(){var t=function(){try{return sessionStorage.getItem(N)}catch(t){return}}();return t?JSON.parse(t):[]}D("load"),window.addEventListener("hashchange",(function(t){return D("hashchange",{oldURL:t.oldURL,newURL:t.newURL})})),window.addEventListener("popstate",(function(t){return D("popstate",{eventState:t.state})})),window.addEventListener("pageshow",(function(){A=!1})),window.addEventListener("pagehide",(function(){A=!0})),window.addEventListener("error",(function(t){if(P(t)||"submit"===t.type){var e,n,r,i,o,c,u,s,l,d=t.message,S=t.filename,A=t.lineno,L=t.error||j,D=L.stack,N=L.name,I=L.failbotContext,M=[{type:N,value:d,stacktrace:(G=D,G.split("\n").reduce((function(t,e){var n=function(t){var e=g.exec(t);if(!e)return null;var n=e[2]&&0===e[2].indexOf("native"),r=e[2]&&0===e[2].indexOf("eval"),i=v.exec(e[2]);return r&&null!=i&&(e[2]=i[1],e[3]=i[2],e[4]=i[3]),{file:n?null:e[2],methodName:e[1]||p,arguments:n?[e[2]]:[],lineNumber:e[3]?+e[3]:null,column:e[4]?+e[4]:null}}(e)||function(t){var e=m.exec(t);return e?{file:e[2],methodName:e[1]||p,arguments:[],lineNumber:+e[3],column:e[4]?+e[4]:null}:null}(e)||function(t){var e=y.exec(t);if(!e)return null;var n=e[3]&&e[3].indexOf(" > eval")>-1,r=w.exec(e[3]);return n&&null!=r&&(e[3]=r[1],e[4]=r[2],e[5]=null),{file:e[3],methodName:e[1]||p,arguments:e[2]?e[2].split(","):[],lineNumber:e[4]?+e[4]:null,column:e[5]?+e[5]:null}}(e)||function(t){var e=x.exec(t);return e?{file:e[2],methodName:e[1]||p,arguments:[],lineNumber:+e[3],column:e[4]?+e[4]:null}:null}(e)||function(t){var e=b.exec(t);return e?{file:e[3],methodName:e[1]||p,arguments:[],lineNumber:+e[4],column:e[5]?+e[5]:null}:null}(e);return n&&t.push(n),t}),[])).map((function(t){return{filename:t.file||"",function:String(t.methodName),lineno:(t.lineNumber||0).toString(),colno:(t.column||0).toString()}})).reverse()}],_=k(k(k({message:d,filename:S,lineno:A,url:window.location.href,readyState:document.readyState,referrer:document.referrer,stack:L.stack,historyState:JSON.stringify(window.history.state),timeSinceLoad:Math.round((new Date).getTime()-E),extensionScripts:JSON.stringify(R().sort()),navigations:JSON.stringify(T()),exceptionDetail:M,platform:"javascript"},(n=(e=window.location).pathname,r=e.search,i=n.split("/").slice(1),c=(o=(0,h.Z)(i,2))[0],u=o[1],s=new URLSearchParams(r),l=Array.from(s.entries()).reduce((function(t,e){return Z.includes(e[0])&&(t=k(k({},t),{},(0,a.Z)({},e[0],e[1]))),t}),{}),k(k({},l),{},{format:u,action:c}))),I),O);_.logging=function(){try{var t=((0,f.$K)(window.debug)?window.debug.buffer():void 0)||[];return JSON.stringify(t)}catch(t){return}}();var C=document.body.getAttribute("data-render-url");fetch("".concat(C,"/_errors"),{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(_)})}var G})),document.addEventListener("pjax:success",(function(){return D("pjax:success")})),document.addEventListener("pjax:popstate",(function(t){return D("pjax:popstate",{pjaxDirection:t.direction,pjaxState:t.state})}));var I=n(3878),M=n(9199),_=n(181),C=n(5267);function G(t){return(0,I.Z)(t)||(0,M.Z)(t)||(0,_.Z)(t)||(0,C.Z)()}var H=n(5861),B=n(136),q=n(6215),F=n(1120),z=n(2407),V=n(4687),W=n.n(V),U=n(1540),J=n.n(U),$=n(7534);const K=function t(e){var n=this,r=e.hasParent,o=void 0!==r&&r;(0,i.Z)(this,t),(0,a.Z)(this,"handleLink",(function(t){var e=t.target,r=e.getAttribute("href")||e.getAttribute("xlink:href")||"";if(r.length){if(r.match(/^#/))return!0;t.preventDefault();try{return n.navigateTo(r)}catch(t){window.debug("Navigation to '".concat(r,"' failed:"),t);var i="failed";return e.classList.add(i),setTimeout((function(){return e.classList.remove(i)}),500)}}})),(0,a.Z)(this,"navigateTo",(function(t){t.match(/^https?:\/\//)||t.match(/^\/\//)?n.navigateDirect(t):n.navigateRelative(t)})),(0,a.Z)(this,"navigateRelative",(function(t){var e=document.body.getAttribute("data-github-hostname"),r="/"===t[0]?t:"/".concat(t),i="//".concat(e).concat(r);return n.navigateDirect(i)})),(0,a.Z)(this,"navigateDirect",(function(t){n.hasParent?window.top.location.href=t:window.location.href=t})),this.hasParent=o};function Y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function X(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(n),!0).forEach((function(e){(0,a.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}window.Render=window.Render||{};var tt=function(t){return/^client:\/\//.exec(t)},et=function(t){return t.matches("a")||t.matches("svg")},nt=function(t){(0,B.Z)(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=(0,F.Z)(e);if(n){var i=(0,F.Z)(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return(0,q.Z)(this,t)});function o(t){var e;return(0,i.Z)(this,o),(e=r.call(this,t)).name="InvalidFormat",e}return o}((0,z.Z)(Error)),rt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,i.Z)(this,t),this.sendInitial=this.sendInitial.bind(this),this.onReady=this.onReady.bind(this),this.onAck=this.onAck.bind(this),this.requireAck=this.requireAck.bind(this),this.submitTiming=this.submitTiming.bind(this),this.submitGiveup=this.submitGiveup.bind(this),this.handleData=this.handleData.bind(this),this.handleCmd=this.handleCmd.bind(this),this.handleMessage=this.handleMessage.bind(this),this.haveParent=this.haveParent.bind(this),this.githubHostname=document.body.getAttribute("data-github-hostname"),this.githubEnv=document.body.getAttribute("data-deploy-env"),this.format=e,this.initialStatusTimeout=null,n.allowLinks){var r=new K({hasParent:this.haveParent()});document.addEventListener("click",(function(t){et(t.target)&&r.handleLink(t)}))}if(!this.isValidFormat(this.format))throw new nt("Unsupported `format` declared when Status was constructed.");window.location.hash.length&&(this.identity=window.location.hash.substring(1)),this.sentData={have:[],waiting:[]},this.messages=[{status:$.nl.constructor,payload:void 0,when:Date.now(),sent:!0}],this.acked=!1,window.addEventListener("message",this.handleMessage);var o=n.initial||$.nl.hello;this.haveParent()&&this.sendInitial(o,10,1e3)}var e,n;return(0,o.Z)(t,[{key:"isValidFormat",value:function(t){return Object.values($.SD).includes(t)}},{key:"sendInitial",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;if(!(this.acked||n<1))return this.initialStatusTimeout=setTimeout((function(){return e.sendInitial(t,n-1,r)}),r),window.debug("Sending hello. Will try again ".concat(n," more times in ").concat(r/1e3," second intervals until ack'd")),this.set(t);clearTimeout(this.initialStatusTimeout)}},{key:"load",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==n.setStatus&&(n.setStatus=!0),null==n.attempts&&(n.attempts=this.clientTimeoutAttempts()),null==n.before&&(n.before=function(t,e){}),null==n.success&&(n.success=function(t,r){return n.setStatus?e.set($.nl.loaded):t}),null==n.error&&(n.error=function(t,r){if(n.setStatus)return e.set($.nl.error)}),null==n.timeout&&(n.timeout=3e4),n.setStatus&&this.set($.nl.loading),tt(t)?this.loadClient(t,n):this.loadHttp(t,n)}},{key:"set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.alreadySentStatus(t);if((0,f.$K)(n)&&![$.nl.hello,$.nl.resize].includes(t)){var r=Math.abs(Date.now()-n.when);return window.debug("Already set status '".concat(t,"' ").concat(r,"ms ago"))}var i={status:t,payload:e,when:Date.now(),sent:!1};if(n&&t===$.nl.hello||this.messages.push(i),t===$.nl.ready&&this.onReady(),!this.requireAck(t))return i.sent=!0,this.post({type:"render",body:t,payload:e})}},{key:"alreadySentStatus",value:function(t){return this.messages.filter((function(e){return e.status===t}))[0]}},{key:"prepareFetchData",value:(n=(0,H.Z)(W().mark((function t(e,n){var r;return W().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("application/octet-stream"!==(r=e).headers.get("content-type")){t.next=6;break}return t.next=5,e.arrayBuffer();case 5:return t.abrupt("return",t.sent);case 6:if(n.json){t.next=10;break}return t.next=9,e.text();case 9:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.next=13,e.json();case 13:return r=t.sent,t.abrupt("return",r);case 17:t.prev=17,t.t0=t.catch(10),window.debug("Error while trying to parse initial JSON: ".concat(t.t0)),window.debug("Attempting to parse htmlDecoded JSON");try{r=JSON.parse(J()(e))}catch(t){this.set($.nl.fatal)}case 22:return t.abrupt("return",r);case 23:case"end":return t.stop()}}),t,this,[[10,17]])}))),function(t,e){return n.apply(this,arguments)})},{key:"prepareData",value:function(t,e){var n=t;if(e.json&&"string"==typeof t)try{n=JSON.parse(t)}catch(e){window.debug("Error while trying to parse initial JSON: ".concat(e)),window.debug("Attempting to parse htmlDecoded JSON");try{n=JSON.parse(J()(t))}catch(t){this.set($.nl.error)}}return n}},{key:"loadClient",value:function(t,e){var n=this;if(!tt(t))throw new Error("Not a client URL: ".concat(t));var r=G(this.sentData.have),i=r[0],o=r.slice(1);if(this.sentData.have=o,null!=i)return e.before(void 0,e),e.setStatus&&this.set($.nl.loaded),e.success(this.prepareData(i,e));e.before(void 0,e);var a={timeout:e.timeout,created:Date.now(),success:function(t){return e.success(n.prepareData(t,e))},error:e.error};return this.sentData.waiting.push(a),null!=a.timeout?setTimeout((function(){var t=n.sentData.waiting.indexOf(a);if(-1!==t)return n.sentData.waiting=n.sentData.waiting.slice(0,t).concat(n.sentData.waiting.slice(t+1)),e.setStatus&&n.set($.nl.error),a.error(new Error("Timeout ".concat(a.timeout,"ms")))}),a.timeout):void 0}},{key:"loadHttp",value:(e=(0,H.Z)(W().mark((function t(e,n){var r,i,o,a,c,u,s=this;return W().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null===(r=n.before)||void 0===r||r.call(n),i=new AbortController,o=setTimeout((function(){i.abort(),s.set($.nl.error),s.submitGiveup()}),n.timeout),a={method:"GET",signal:i.signal},t.next=6,fetch(e,a);case 6:if(c=t.sent,clearTimeout(o),!(c.status<400)){t.next=15;break}return t.next=11,this.prepareFetchData(c,n);case 11:return u=t.sent,this.set($.nl.loaded),n.success(u,c),t.abrupt("return",u);case 15:if(n.attempts-=1,!(n.attempts>0)){t.next=21;break}window.debug("Couldn't load, going to retry up to ".concat(n.attempts," more times")),setTimeout((function(){s.loadHttp(e,n)}),1e3),t.next=24;break;case 21:return this.set($.nl.error),this.submitGiveup(),t.abrupt("return",n.error(c.statusText,c));case 24:case"end":return t.stop()}}),t,this)}))),function(t,n){return e.apply(this,arguments)})},{key:"post",value:function(t){(0,f.$K)(t.identity)||(t.identity=this.identity),this.haveParent()?(window.debug("Render Status:",t),window.parent.postMessage(t,"*")):window.debug("WARNING: No window.parent: postMessage:",t)}},{key:"onReady",value:function(){var t,e={},n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Q(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}(this.messages);try{for(n.s();!(t=n.n()).done;){var r=t.value;e[r.status]=r.when}}catch(t){n.e(t)}finally{n.f()}return this.submitTiming("local",e)}},{key:"onAck",value:function(){var t=this;return window.debug("Ack'd, sending saved messages"),this.acked=!0,this.messages.map((function(e){if(!e.sent)return e.sent=!0,t.post({type:"render",body:e.status,payload:e.payload})}))}},{key:"requireAck",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!this.acked&&"hello"!==t}},{key:"submitTiming",value:function(t,e){var n,r;window.debug("Got ".concat(t," timing: ").concat(this.format," => ").concat(JSON.stringify(e)));var i=document.body.getAttribute("data-render-url");(null===(n=(r=navigator).sendBeacon)||void 0===n?void 0:n.call(r,"".concat(i,"/stats/timing/").concat(t,"/").concat(this.format,"/"),JSON.stringify(e)))?window.debug("Sent ".concat(t," timing info:"),e):window.debug("Failed to send remote timing info")}},{key:"submitGiveup",value:function(){var t,e,n=document.body.getAttribute("data-render-url");(null===(t=(e=navigator).sendBeacon)||void 0===t?void 0:t.call(e,"".concat(n,"/stats/").concat(this.format,"/gave_up")))?window.debug("Sent give up status info."):window.debug("Failed to send give up info")}},{key:"handleData",value:function(t){if(this.sentData.waiting.length){var e=G(this.sentData.waiting),n=e[0],r=e.slice(1);return this.sentData.waiting=r,this.set($.nl.loaded),n.success(t)}return this.sentData.have.push(t)}},{key:"handleCmd",value:function(t,e){switch(t){case"branding":return document.body.classList.remove("is-embedded",e);case"ack":if(this.requireAck())return this.onAck();break;case $.h6.markdown:this.trigger(document,$.h6.markdown,{data:e.data,width:e.width});break;case $.h6.containerSize:this.trigger(document,$.h6.containerSize,{width:e.width});break;default:return window.debug("Invalid command '".concat(t,"':"),e)}}},{key:"handleMessage",value:function(t){var e=new RegExp(".".concat(this.githubHostname,"$")),n=t.data,r=t.origin;if(n&&r&&e.test(r)){var i=function(){try{return JSON.parse(n)}catch(t){return n}}(),o=i.type,a=i.identity,c=i.body;if(o&&c){if(null!=a&&a!==this.identity)return window.debug("Message has identity '".concat(a,"', expected '").concat(this.identity,"'."));switch(o){case"render:timing":var u=c.timing,s=c.format;return u&&s?s!==this.format?window.debug("Format mismatch: got '".concat(s,"' expected '").concat(this.format,"'")):this.submitTiming("remote",u):window.debug("Malformed timing message:",c);case"render:cmd":var l=c.cmd,d=c[l];if((0,f.$K)(l)&&(0,f.$K)(d))return this.handleCmd(l,d);break;case"render:data":return this.handleData(c);default:return window.debug("Unknown message type: ".concat(o))}}}}},{key:"haveParent",value:function(){return window.parent!==window}},{key:"clientTimeoutAttempts",value:function(){return document.body.getAttribute("data-client-timeout-attempts")}},{key:"trigger",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new CustomEvent(e,{detail:X({},n)});t.dispatchEvent(r)}}]),t}();window.Render.Status=rt},4939:(t,e,n)=>{"use strict";n.d(e,{$K:()=>c,E0:()=>u,kG:()=>l,Hk:()=>d});var r=n(5671),i=n(136),o=n(6215),a=n(1120);function c(t){return null!=t&&void 0!==t}function u(t){"complete"===document.readyState?t():document.addEventListener("DOMContentLoaded",t)}var s=function(t){(0,i.Z)(u,t);var e,n,c=(e=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=(0,a.Z)(e);if(n){var i=(0,a.Z)(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return(0,o.Z)(this,t)});function u(){return(0,r.Z)(this,u),c.apply(this,arguments)}return u}((0,n(2407).Z)(Error));function l(t,e){if(!t)throw new s(null!=e?e:"Invariant violation")}var d=function(t){return t instanceof HTMLElement}},1540:(t,e,n)=>{var r,i=/&(?:amp|lt|gt|quot|#39|#96);/g,o=RegExp(i.source),a="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,u=a||c||Function("return this")(),s=(r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},function(t){return null==r?void 0:r[t]}),l=Object.prototype.toString,d=u.Symbol,h=d?d.prototype:void 0,f=h?h.toString:void 0;t.exports=function(t){var e;return(t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==l.call(t)}(t))return f?f.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e))&&o.test(t)?t.replace(i,s):t}},7061:(t,e,n)=>{var r=n(8698).default;function i(){"use strict";t.exports=i=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},n=Object.prototype,o=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var i=e&&e.prototype instanceof p?e:p,o=Object.create(i.prototype),a=new j(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var c=k(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var f={};function p(){}function g(){}function v(){}var m={};l(m,c,(function(){return this}));var y=Object.getPrototypeOf,w=y&&y(y(E([])));w&&w!==n&&o.call(w,c)&&(m=w);var b=v.prototype=p.prototype=Object.create(m);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,a,c,u){var s=h(t[i],t,a);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==r(d)&&o.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,c,u)}),(function(t){n("throw",t,c,u)})):e.resolve(d).then((function(t){l.value=t,c(l)}),(function(t){return n("throw",t,c,u)}))}u(s.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function k(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=h(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function Z(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function E(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return g.prototype=v,l(b,"constructor",v),l(v,"constructor",g),g.displayName=l(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,s,"GeneratorFunction")),t.prototype=Object.create(b),t},e.awrap=function(t){return{__await:t}},x(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(d(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(b),l(b,s,"Generator"),l(b,c,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=E,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Z),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),Z(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;Z(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},8698:t=>{function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},4687:(t,e,n)=>{var r=n(7061)();t.exports=r;try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},907:(t,e,n)=>{"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,{Z:()=>r})},3878:(t,e,n)=>{"use strict";function r(t){if(Array.isArray(t))return t}n.d(e,{Z:()=>r})},7326:(t,e,n)=>{"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,{Z:()=>r})},5861:(t,e,n)=>{"use strict";function r(t,e,n,r,i,o,a){try{var c=t[o](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function c(t){r(a,i,o,c,u,"next",t)}function u(t){r(a,i,o,c,u,"throw",t)}c(void 0)}))}}n.d(e,{Z:()=>i})},5671:(t,e,n)=>{"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,{Z:()=>r})},3144:(t,e,n)=>{"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}n.d(e,{Z:()=>i})},4942:(t,e,n)=>{"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{Z:()=>r})},1120:(t,e,n)=>{"use strict";function r(t){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}n.d(e,{Z:()=>r})},136:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(9611);function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&(0,r.Z)(t,e)}},9199:(t,e,n)=>{"use strict";function r(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}n.d(e,{Z:()=>r})},5267:(t,e,n)=>{"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(e,{Z:()=>r})},6215:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}n.d(e,{Z:()=>o});var i=n(7326);function o(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(t)}},9611:(t,e,n)=>{"use strict";function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}n.d(e,{Z:()=>r})},9439:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var r=n(3878),i=n(181),o=n(5267);function a(t,e){return(0,r.Z)(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,c=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){c=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(c)throw i}}return o}}(t,e)||(0,i.Z)(t,e)||(0,o.Z)()}},3433:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var r=n(907),i=n(9199),o=n(181);function a(t){return function(t){if(Array.isArray(t))return(0,r.Z)(t)}(t)||(0,i.Z)(t)||(0,o.Z)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(907);function i(t,e){if(t){if("string"==typeof t)return(0,r.Z)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(t,e):void 0}}},2407:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var r=n(1120),i=n(9611);function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function a(t,e,n){return a=o()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&(0,i.Z)(o,n.prototype),o},a.apply(null,arguments)}function c(t){var e="function"==typeof Map?new Map:void 0;return c=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,o)}function o(){return a(t,arguments,(0,r.Z)(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(o,t)},c(t)}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";n(2086);var t=n(5671),e=n(7326),r=n(136),i=n(6215),o=n(1120),a=n(4942),c=n(7534);const u=function e(n){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".js-view-modes",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".js-view-mode-item";(0,t.Z)(this,e),this.callback=n,this.identifier=i,this.childIdentifier=o;var a=document.querySelector(this.identifier);a&&a.addEventListener("click",(function(t){var e=t.target;if(e){r.callback(e.getAttribute("data-mode"));for(var n=0,i=Array.from(a.querySelectorAll(r.childIdentifier));n<i.length;n++)i[n].classList.remove("active");e.classList.add("active")}}))};function s(t,e){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.add(t)}function l(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}var d=new WeakSet,h=new WeakSet;function f(t){var e,n;if(t.preventDefault(),this.dragging){var r=this.track.getBoundingClientRect(),i=this.dragger.getBoundingClientRect(),o=this.track.ownerDocument.defaultView,a=r.width-i.width,c=t.clientX-(r.left+o.scrollX);c<0&&(c=0),c>a&&(c=a),this.dragger.style.left="".concat(c,"px"),this.percentage=c/a*100,window.debug("Slider at ".concat(this.percentage,"%")),null===(e=(n=this.callbacks).slide)||void 0===e||e.call(n,this.percentage)}}function p(){var t,e;if(this.dragging)return document.removeEventListener("mousemove",l(this,d,f)),this.dragging=!1,document.body.style.cursor="auto",null===(t=(e=this.callbacks).mouseUp)||void 0===t?void 0:t.call(e)}const g=function e(n,r){var i=this;(0,t.Z)(this,e),s(this,h),s(this,d),(0,a.Z)(this,"bindControls",(function(){i.dragger.addEventListener("mousedown",(function(t){var e,n;t.preventDefault(),i.dragging=!0,document.body.style.cursor="pointer",null===(e=(n=i.callbacks).mouseDown)||void 0===e||e.call(n),document.addEventListener("mousemove",l(i,d,f).bind(i)),document.addEventListener("mouseup",l(i,h,p).bind(i),{once:!0})}))})),(0,a.Z)(this,"value",(function(){return i.percentage})),(0,a.Z)(this,"setDragger",(function(){var t=i.track.getBoundingClientRect(),e=i.dragger.getBoundingClientRect(),n=t.width-e.width,r=i.percentage/100*n;i.dragger.style.left="".concat(r,"px")})),(0,a.Z)(this,"show",(function(){i.container.style.display="block",i.setDragger()})),(0,a.Z)(this,"hide",(function(){i.container.style.display="none"})),this.callbacks=n,this.dragger=document.querySelector(r.identifier||".js-dragger"),this.track=this.dragger.parentNode,this.container=this.track.parentNode,this.dragging=!1,this.percentage=r.percentage||50,this.bindControls()};var v=n(4939),m=function(t,e,n){var r=function(t){return{height:t.clientHeight||0,width:t.clientWidth||0}};(0,v.kG)((0,v.Hk)(t)),(0,v.kG)((0,v.Hk)(e));var i=t.parentNode,o=e.parentNode;(0,v.kG)((0,v.Hk)(i)),(0,v.kG)((0,v.Hk)(o));var a=r(t),c=r(e),u={height:Math.max(c.height,a.height),width:Math.max(c.width,a.width)},s={addedHorizMargin:Math.floor(u.width-a.width)/2,addedVertMargin:Math.floor(u.height-a.height)/2,deletedHorizMargin:Math.floor(u.width-c.width)/2,deletedVertMargin:Math.floor(u.height-c.height)/2},l=n(u);return t.style.width="".concat(a.width*l,"px"),t.style.height="".concat(a.height*l,"px"),e.style.width="".concat(c.width*l,"px"),e.style.height="".concat(c.height*l,"px"),i.setAttribute("style","margin: ".concat(s.addedVertMargin*l,"px ").concat(s.addedHorizMargin*l,"px;\n    width: ").concat(a.width*l+2,"px;\n    height: ").concat(a.height*l+2,"px;")),o.setAttribute("style","margin: ".concat(s.deletedVertMargin*l,"px ").concat(s.deletedHorizMargin*l,"px;\n    width: ").concat(c.width*l+2,"px;\n    height: ").concat(c.height*l+2,"px;")),{added:a,deleted:c,imageMargins:s,scale:l,imageBox:u,addedImage:t,deletedImage:e,addedParent:i,deletedParent:o}},y=n(5861),w=n(3144),b=n(4687),x=n.n(b),S=300;function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=new Image;return new Promise((function(n,r){e.onload=function(){n(e)},e.onerror=function(t){r(t)},e.src=t}))}function O(){return O=(0,y.Z)(x().mark((function t(){var e,n,r,i,o=arguments;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:"",n=o.length>1?o[1]:void 0,t.next=4,k(e);case 4:return r=t.sent,(i=j(n,r))&&(r.height=i.height,r.width=i.width),t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)}))),O.apply(this,arguments)}function Z(){return window.debug("Returning arbitrary SVG dimensions"),{height:S,width:S}}function j(t,e){var n,r,i;if(!t.children.length){var o=Math.pow(2,32)-1;return e.height>1&&e.width>1&&e.height<o&&e.width<o?(window.debug("Returning browser based SVG dimensions: ".concat(e.height," by ").concat(e.width)),{height:e.height,width:e.width}):Z()}var a=null!==(n=null==t?void 0:t.rootElement)&&void 0!==n?n:t,c=a instanceof Node?a:{},u=null==c||null===(r=c.height)||void 0===r?void 0:r.baseVal,s=null==c||null===(i=c.width)||void 0===i?void 0:i.baseVal;if((null==u?void 0:u.unitType)===SVGLength.SVG_LENGTHTYPE_PERCENTAGE||s.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE){if("hasAttribute"in c&&c.hasAttribute("viewBox")){var l=c.viewBox.baseVal,d=l.width/l.height;return window.debug("Returning viewbox based SVG dimensions with aspectRatio ".concat(d)),{height:S,width:S*d}}return Z()}}var E=function(){function e(n){var r=this;(0,t.Z)(this,e),(0,a.Z)(this,"handleSuccess",(function(t,e,n){var r=function(t){return"image/svg+xml"===t.headers.get("content-type")}(n);if(!r)return k(t);var i=function(t){var e,n,r=(new DOMParser).parseFromString(t,"text/html"),i=null==r||null===(e=r.children)||void 0===e||null===(n=e[0])||void 0===n?void 0:n.querySelector("svg");if("svg"!==(null==i?void 0:i.nodeName))throw new Error("Invalid element, not an SVG node.");return i}(e);return function(){return O.apply(this,arguments)}(function(t,e){if(function(t){var e=t.getAttribute("xmlns");return!!Boolean(e)&&"http:"===new URL(e).protocol}(t))return e;t.setAttribute("xmlns","http://www.w3.org/2000/svg");var n=document.createElement("p");n.appendChild(t);var r=encodeURIComponent(n.innerHTML);return"".concat("data:image/svg+xml;charset=utf-8,").concat(r)}(i,t),i)})),(0,a.Z)(this,"fetch",(function(t,e,n){var i;window.debug("Attempting to load image URL: [".concat(t,"]")),r.status.load(t,{success:(i=(0,y.Z)(x().mark((function i(o,a){var c;return x().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,r.handleSuccess(t,o,a);case 3:c=i.sent,null==e||e(c),i.next=11;break;case 7:i.prev=7,i.t0=i.catch(0),null==n||n(i.t0),r.handleError(i.t0);case 11:case"end":return i.stop()}}),i,null,[[0,7]])}))),function(t,e){return i.apply(this,arguments)}),error:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){null==n||n(t),r.handleError(t)}))})})),this.status=n,this.status=n}return(0,w.Z)(e,[{key:"handleError",value:function(t){window.debug("Error loading image: ",t.message),this.status.set(c.nl.fatal,{error:"Invalid image source."})}}]),e}();function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach((function(e){(0,a.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const R=function(n){(0,r.Z)(h,n);var s,l,d=(s=h,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=(0,o.Z)(s);if(l){var n=(0,o.Z)(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return(0,i.Z)(this,t)});function h(n,r){var i,o,s;(0,t.Z)(this,h),s=d.call(this,r),(0,a.Z)((0,e.Z)(s),"clicked",!1),(0,a.Z)((0,e.Z)(s),"loaded",{added:!1,deleted:!1}),(0,a.Z)((0,e.Z)(s),"slider",null),(0,a.Z)((0,e.Z)(s),"onImageLoad",(function(t,e){for(var n=Array.from(document.querySelectorAll("img.".concat(t))),r=0,i=function(){var i,c=a[o],u=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}(c.attributes);try{for(u.s();!(i=u.n()).done;){var l=i.value;e.setAttribute(l.name,l.value)}}catch(t){u.e(t)}finally{u.f()}var d=e.cloneNode();d.onload=function(){var e;null===(e=c.parentNode)||void 0===e||e.replaceChild(d,c),r+=1,s.loaded[t]=r===n.length,s.setReadyIfLoaded()}},o=0,a=n;o<a.length;o++)i()})),(0,a.Z)((0,e.Z)(s),"setReadyIfLoaded",(function(){var t=!0;for(var e in s.loaded){var n=s.loaded[e];t=t&&n}t&&s.initViews()})),(0,a.Z)((0,e.Z)(s),"reInit",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;s.clicked||(s.switchMode("two-up"),t<1e4&&setTimeout((function(){return s.reInit(2*t)}),2*t))})),(0,a.Z)((0,e.Z)(s),"initViews",(function(){var t=Array.from(document.querySelectorAll("img.added")),e=Array.from(document.querySelectorAll("img.deleted"));s.initTwoUp(t[0],e[0]),s.initSwipe(t[1],e[1]),s.initOnion(t[2],e[2]),s.status.set(c.nl.ready),setTimeout(s.reInit,100)})),(0,a.Z)((0,e.Z)(s),"initTwoUp",(function(t,e){var n=m(t,e,(function(t){var e=1;return t.width>414&&(e=414/t.width),e})),r=["added","deleted"].reduce((function(t,e){for(var n=0,r=["height","width"];n<r.length;n++){var i=r[n],o="".concat(i.slice(0,1).toUpperCase()).concat(i.slice(1)),c=document.querySelector(".".concat(e,"-meta .").concat(i));c&&(t=L(L({},t),{},(0,a.Z)({},"".concat(e).concat(o),c)))}return t}),{});if(4!==Object.values(r).length)throw new Error("Invalid DOM structure");r.addedHeight.textContent="".concat(n.addedImage.naturalHeight,"px"),r.addedWidth.textContent="".concat(n.addedImage.naturalWidth,"px"),r.deletedHeight.textContent="".concat(n.deletedImage.naturalHeight,"px"),r.deletedWidth.textContent="".concat(n.deletedImage.naturalWidth,"px");var i=document.querySelector(".label-deleted");i&&n.added.width<30&&n.deleted.width<30&&(i.style.right="25%")})),(0,a.Z)((0,e.Z)(s),"initSwipe",(function(t,e){var n=m(t,e,(function(t){var e=1;return t.width>846&&(e=846/t.width),e})),r=n.deletedParent.parentNode,i=n.addedParent.parentNode;(0,v.kG)((0,v.Hk)(r)),(0,v.kG)((0,v.Hk)(i)),r.setAttribute("style","width: ".concat(n.imageBox.width*n.scale+2,"px; height: ").concat(n.imageBox.height*n.scale+2,"px")),i.setAttribute("style","padding: ".concat(n.imageMargins.addedVertMargin*n.scale,"px 0 0 0;width: ").concat(n.imageBox.width*n.scale+2,"px;height: ").concat(n.imageBox.height*n.scale-n.imageMargins.addedVertMargin*n.scale+4,"px"));var o=document.querySelector(".swipe");(0,v.kG)((0,v.Hk)(o)),o.setAttribute("style","width: ".concat(n.imageBox.width*n.scale+2,"px;\n        height: ").concat(n.imageBox.height*n.scale+4,"px"));var a=document.querySelector(".swipe-bar");(0,v.kG)((0,v.Hk)(a)),a.addEventListener("mousedown",(function(t){t.preventDefault();var e=a.parentNode;(0,v.kG)((0,v.Hk)(e));var n=e.clientWidth-a.clientWidth,r=e;function i(){document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",i),document.body.style.cursor="auto"}function o(t){t.preventDefault();var e=t.clientX-r.getBoundingClientRect().left;e<0&&(e=0),e>n&&(e=n),a&&(a.style.left="".concat(e,"px"));var o=document.querySelector(".swipe-shell"),c=document.querySelector(".swipe-frame");c&&o&&(o.style.width="".concat(c.clientWidth-e,"px")),document.addEventListener("mouseup",i)}document.body.style.cursor="pointer",document.addEventListener("mousemove",o)}))})),(0,a.Z)((0,e.Z)(s),"initOnion",(function(t,e){var n=m(t,e,(function(t){var e=1;return t.width>846&&(e=846/t.width),e})),r=n.deletedParent.parentNode;(0,v.kG)((0,v.Hk)(r)),r.setAttribute("style","width: ".concat(n.imageBox.width*n.scale+2,"px;\n      height: ").concat(n.imageBox.height*n.scale+2,"px"));var i=document.querySelector(".onion-skin");(0,v.kG)((0,v.Hk)(r)),i.setAttribute("style","width: ".concat(n.imageBox.width*n.scale+2,"px;\n        height: ").concat(n.imageBox.height*n.scale+4,"px")),s.slider=new g({slide:function(t){n.addedParent&&(n.addedParent.style.opacity="".concat(t/100))}},{percentage:100})})),(0,a.Z)((0,e.Z)(s),"switchMode",(function(t){var e,n=Array.from(document.querySelectorAll(".view")),r=n.find((function(e){return e.classList.contains(t)}));if(r){for(var i=0,o=n;i<o.length;i++)o[i].style.display="none";var a=document.querySelector(".render-bar"),u=(null!==(e=null==a?void 0:a.getBoundingClientRect().height)&&void 0!==e?e:0)+40;"swipe"===t?u+=14:"onion-skin"===t&&(u+=45),r.style.display="block",s.status.set(c.nl.resize,{height:r.getBoundingClientRect().height+u}),s.slider&&"onion-skin"===t&&s.slider.setDragger()}else window.debug("Unknown mode!")})),s.shell=n,s.status=r;var l=null!==(i=s.shell.getAttribute("data-file1"))&&void 0!==i?i:"",f=null!==(o=s.shell.getAttribute("data-file2"))&&void 0!==o?o:"";return s.fetch(l,(function(t){return s.onImageLoad("deleted",t)})),s.fetch(f,(function(t){return s.onImageLoad("added",t)})),new u(s.switchMode),s.shell.addEventListener("click",(function(){s.clicked=!0}),{once:!0}),s}return h}(E);const D=function(n){(0,r.Z)(l,n);var a,u,s=(a=l,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=(0,o.Z)(a);if(u){var n=(0,o.Z)(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return(0,i.Z)(this,t)});function l(n,r){var i;(0,t.Z)(this,l),(i=s.call(this,r)).onImageLoad=i.onImageLoad.bind((0,e.Z)(i)),i.imagePadding=60,i.shell=n,i.status.set(c.nl.loading);var o=i.shell.getAttribute("data-image");return i.fetch(o,i.onImageLoad),i}return(0,w.Z)(l,[{key:"onImageLoad",value:function(t){this.shell.appendChild(t),this.status.set(c.nl.ready,{height:this.imageHeightAfterResize(t)+this.imagePadding})}},{key:"documentWidth",value:function(){try{var t=document.querySelector(".render-shell"),e=window.getComputedStyle(t);return parseInt(e.width)}catch(t){window.debug("Failed to parse iframe document width")}}},{key:"imageCssWidth",value:function(t){try{return window.getComputedStyle(t).width}catch(t){window.debug("Failed to parse image width",t.message)}}},{key:"computeMaxWidth",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600,n=this.documentWidth(),r=this.imageCssWidth(t),i=parseInt(r);if(window.debug("imageHeightAfterResize: cssWidth:[".concat(r,"] parsedWidth:[").concat(i,"]")),!r||isNaN(i))return e;var o=Math.min(n,i);return"%"===r.slice(-1)?(window.debug("imageHeightAfterResize: Using a %: ".concat(i," of ").concat(n)),n?n*(i/100):e):o<=0?e:o}},{key:"imageHeightAfterResize",value:function(t){var e=t.naturalHeight,n=t.naturalWidth,r=this.computeMaxWidth(t);if(window.debug("imageHeightAfterResize: maxWidth: ".concat(r," vs width: ").concat(n," height: ").concat(e)),0===t.height&&(t.height=e),0===t.width&&(t.width=n),e||(t.height=r),n<=r)return window.debug("Already resized, returning current height"),t.height||e;var i=r/n;return window.debug("Scaling height by ".concat(i," to ").concat(e," & ").concat(i)),e*i}}]),l}(E);(0,v.E0)((function(){return t=new window.Render.Status("img"),void("diff"===(e=document.querySelector(".js-render-shell div")).getAttribute("data-type")?new R(e,t):new D(e,t));var t,e}))})()})();
//# sourceMappingURL=img-2a6e66b365daa8de34e7.js.map